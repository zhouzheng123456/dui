{"version":3,"sources":["webpack:///./src/mcs/ids/create-faceIn.vue","webpack:///./src/mcs/ids/create-faceIn.vue?18a8","webpack:///./src/mcs/ids/create-faceIn.vue?365f","webpack:///./src/assets/imgs/face_in.jpg"],"names":["ids_create_faceIn","XButton","Flexbox","FlexboxItem","components","data","face_bmg","video","img","match_img","computed","beforeMount","mounted","this","$refs","content_box","style","height","document","documentElement","clientHeight","initVideo","methods","goBack","$router","go","_this","window","URL","webkitURL","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","stream","getElementById","width","srcObject","play","error","alert","name","console","log","screenShot","w","h","scale","canvas","getContext","drawImage","base64","toDataURL","start_in","end_in","_this2","MessageBox","split","$API","IDS_API","detect","then","res","error_code","localStorage","setItem","push","catch","err","match","watch","mcs_ids_create_faceIn","render","_vm","_h","$createElement","_c","_self","attrs","title","slot","on","click","icon","_v","ref","staticClass","backgroundImage","_m","type","nativeOn","$event","staticRenderFns","id","poster","__webpack_require__","Component","normalizeComponent","ssrContext","__webpack_exports__","module","exports","p"],"mappings":"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","file":"static/js/11.6acf14f2573ceb75de97.js","sourcesContent":["\nimport XButton from 'vux/src/components/x-button/index.vue'\nimport Flexbox from 'vux/src/components/flexbox/flexbox.vue'\nimport FlexboxItem from 'vux/src/components/flexbox/flexbox-item.vue'\n\nimport { MessageBox } from \"mint-ui\";\nimport face_bmg from '@/assets/imgs/face_in.jpg'\nexport default {\n\ncomponents: { XButton, Flexbox, FlexboxItem },\n\ndata() {\nreturn {\nface_bmg:face_bmg,\nvideo: null,\nimg: '',\nmatch_img: ''\n}\n},\n\ncomputed: {},\n\nbeforeMount () {},\n\nmounted () {\nthis.$refs.content_box.style.height = document.documentElement.clientHeight - 97 + 'px';\nthis.initVideo();\n},\n\nmethods: {\ngoBack() {\nthis.$router.go(-1);\n},\n\ninitVideo() {\nvar _this = this;\nvar URL = window.URL || window.webkitURL;   \nnavigator.getUserMedia = navigator.getUserMedia\n|| navigator.webkitGetUserMedia\n|| navigator.mozGetUserMedia;\n\nnavigator.getUserMedia({\nvideo: true\n}, function (stream) {\n_this.video = document.getElementById(\"video\")\n_this.width = _this.video.width\n_this.height = _this.video.height\n_this.video.srcObject = stream;\n_this.video.play();   \n\n/*document.getElementById(\"snap\").addEventListener('click', function() {\nctx.drawImage(video, 0, 0, width, height);\nvar url = canvas.toDataURL('image/png');\ndocument.getElementById('download').href = url;\n});*/\n}, function (error) {\nalert(error.name)\nconsole.log(error.name || error);\n});\n},\n\nscreenShot() {\nthis.video = document.getElementById(\"video\")\nvar w = this.video.width,\nh = this.video.height,\nscale = w / h;\nw = 240 || w;  \nh = w / scale;\n\n\n\nvar canvas = document.getElementById(\"canvas\");\ncanvas.width = w;\ncanvas.height = h;\nvar ctx = canvas.getContext('2d');\nctx.drawImage(this.video, 0, 0, w, h);\nvar base64 = canvas.toDataURL('image/*', 1 || 0.8 );\nthis.img = base64;\n},\n\nstart_in() {\nthis.screenShot();\n},\n\nend_in() {\nif(this.img == ''){\nMessageBox('提示', '请先点击采集');\n} else {\nthis.img = this.img.split('base64,')[1];\nvar data = `{\n\"image\": \"${this.img}\",\n\"image_type\":\"BASE64\",\n\"face_type\": \"LIVE\",\n\"face_field\":\"age,gender\"\n}`\nthis.$API.IDS_API.detect(data).then(res => {\nif(res.data.error_code == 0) {\nlocalStorage.setItem('face_img',this.img);\nthis.$router.push('/')\n} else {\nMessageBox('提示', '未检测到人脸');\n}\nconsole.log('返回', res);\n}).catch(err => {\nMessageBox('提示', '未检测到人脸');\nconsole.log(err);\n})\n}\n\n\n\n/** {\n* \"refresh_token\":\"25.6bfb13aab5aaef26e7be3e11e2be02cb.315360000.1875770905.282335-16507677\",\n* \"expires_in\":2592000,\n* \"session_key\":\"9mzdDoZVUGsUDgW2u\\/r4eXP44vzpOvNuYFU0QhQf8gp+QxvIiGsPDTvOVbXj92WIxNjgRdIVzxzehmuoiBJmVZb9NY97Bg==\",\n* \"access_token\":\"24.545f2835fef5a85fc7f8c27d4c877ed5.2592000.1563002905.282335-16507677\",\n* \"scope\":\"public brain_all_scope vis-faceverify_faceverify_h5-face-liveness vis-faceverify_FACE_V3 wise_adapt lebo_resource_base lightservice_public hetu_basic lightcms_map_poi kaidian_kaidian ApsMisTest_Test\\u6743\\u9650 vis-classify_flower lpq_\\u5f00\\u653e cop_helloScope ApsMis_fangdi_permission smartapp_snsapi_base iop_autocar oauth_tp_app smartapp_smart_game_openapi oauth_sessionkey smartapp_swanid_verify smartapp_opensource_openapi smartapp_opensource_recapi\",\n* \"session_secret\":\"5d03d1518f315d51f1a3d6e02fb90f25\"\n* }*/\n},\n\nmatch() {\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n}\n},\n\nwatch: {}\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/mcs/ids/create-faceIn.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('mt-header',{attrs:{\"title\":\"人脸采集\"}},[_c('span',{attrs:{\"slot\":\"left\"},on:{\"click\":_vm.goBack},slot:\"left\"},[_c('mt-button',{attrs:{\"icon\":\"back\"}})],1)]),_vm._v(\" \"),_c('div',{ref:\"content_box\",staticClass:\"bmg_css\",style:({backgroundImage: 'url(' + _vm.face_bmg + ')' })},[_vm._m(0),_vm._v(\" \"),_vm._m(1)]),_vm._v(\" \"),_c('flexbox',[_c('flexbox-item',[_c('x-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.start_in($event)}}},[_vm._v(\"点击采集\")])],1),_vm._v(\" \"),_c('flexbox-item',[_c('x-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.end_in($event)}}},[_vm._v(\"完成采集\")])],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"video_box\"},[_c('video',{attrs:{\"id\":\"video\",\"height\":\"150\",\"width\":\"150\",\"poster\":require(\"../../assets/imgs/renlian.png\")}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"snap\"},[_c('canvas',{attrs:{\"id\":\"canvas\",\"height\":\"150\",\"width\":\"150\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-4c119924\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/mcs/ids/create-faceIn.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4c119924\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./create-faceIn.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./create-faceIn.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./create-faceIn.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4c119924\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./create-faceIn.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4c119924\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/mcs/ids/create-faceIn.vue\n// module id = null\n// module chunks = ","module.exports = __webpack_public_path__ + \"static/img/face_in.8d0e2fa.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/imgs/face_in.jpg\n// module id = pOZS\n// module chunks = 11"],"sourceRoot":""}