webpackJsonp([6],{"+Up5":function(t,e,i){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(t){o[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,s,r=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),l=1;l<arguments.length;l++){for(var c in i=Object(arguments[l]))a.call(i,c)&&(r[c]=i[c]);if(o){s=o(i);for(var u=0;u<s.length;u++)n.call(i,s[u])&&(r[s[u]]=i[s[u]])}}return r}},C5VE:function(t,e,i){"use strict";var o=i("ZLEe"),a=i.n(o),n=i("hRKE"),s=i.n(n),r=!1;try{var l=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("test",null,l)}catch(t){}var c=r,u="object"===("undefined"==typeof window?"undefined":s()(window));u&&(window.__$vuxPopups=window.__$vuxPopups||{});var d=function(t){var e=this;if(u){this.uuid=Math.random().toString(36).substring(3,8),this.params={},"[object Object]"===Object.prototype.toString.call(t)&&(this.params={hideOnBlur:t.hideOnBlur,onOpen:t.onOpen||function(){},onClose:t.onClose||function(){},showMask:t.showMask}),!!document.querySelectorAll(".vux-popup-mask").length<=0&&(this.divMask=document.createElement("a"),this.divMask.className="vux-popup-mask",this.divMask.dataset.uuid="",this.divMask.href="javascript:void(0)",document.body.appendChild(this.divMask));var i=void 0;(i=t.container?t.container:document.createElement("div")).className+=" vux-popup-dialog vux-popup-dialog-"+this.uuid,this.params.hideOnBlur||(i.className+=" vux-popup-mask-disabled"),this.div=i,t.container||document.body.appendChild(i),this.container=document.querySelector(".vux-popup-dialog-"+this.uuid),this.mask=document.querySelector(".vux-popup-mask"),this.mask.dataset.uuid+=","+this.uuid,this._bindEvents(),t=null,this.containerHandler=function(){e.mask&&!/show/.test(e.mask.className)&&setTimeout(function(){!/show/.test(e.mask.className)&&(e.mask.style.zIndex=-1)},200)},this.container&&this.container.addEventListener("webkitTransitionEnd",this.containerHandler),this.container&&this.container.addEventListener("transitionend",this.containerHandler)}};d.prototype.onClickMask=function(){this.params.hideOnBlur&&this.params.onClose()},d.prototype._bindEvents=function(){this.params.hideOnBlur&&(this.mask.addEventListener("click",this.onClickMask.bind(this),!1),this.mask.addEventListener("touchmove",function(t){return t.preventDefault()},!!c&&{passive:!1}))},d.prototype.show=function(){this.params.showMask&&(this.mask.classList.add("vux-popup-show"),this.mask.style.zIndex=500),this.container.classList.add("vux-popup-show"),this.params.onOpen&&this.params.onOpen(this),u&&(window.__$vuxPopups[this.uuid]=1)},d.prototype.hide=function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.container.classList.remove("vux-popup-show"),document.querySelector(".vux-popup-dialog.vux-popup-show")||(this.mask.classList.remove("vux-popup-show"),setTimeout(function(){t.mask&&!/show/.test(t.mask.className)&&(t.mask.style.zIndex=-1)},400)),!1===e&&this.params.onClose&&this.params.hideOnBlur&&this.params.onClose(this),this.isShow=!1,u&&delete window.__$vuxPopups[this.uuid]},d.prototype.destroy=function(){this.mask.dataset.uuid=this.mask.dataset.uuid.replace(new RegExp(","+this.uuid,"g"),""),this.mask.dataset.uuid?this.hide():(this.mask.removeEventListener("click",this.onClickMask.bind(this),!1),this.mask&&this.mask.parentNode&&this.mask.parentNode.removeChild(this.mask)),this.container.removeEventListener("webkitTransitionEnd",this.containerHandler),this.container.removeEventListener("transitionend",this.containerHandler),u&&delete window.__$vuxPopups[this.uuid]};var h=d,p={hasClass:function(t,e){return new RegExp("(\\s|^)"+e+"(\\s|$)").test(t.className)},addClass:function(t,e){t&&(t.classList?t.classList.add(e):this.hasClass(t,e)||(t.className+=""+e))},removeClass:function(t,e){t&&(t.classList?t.classList.remove(e):this.hasClass(t,e)&&(t.className=t.className.replace(new RegExp("(\\s|^)"+e+"(\\s|$)")," ").replace(/^\s+|\s+$/g,"")))}},m=(Boolean,String,String,Boolean,Boolean,Boolean,String,String,Object,Boolean,Boolean,Boolean,{name:"popup",props:{value:Boolean,height:{type:String,default:"auto"},width:{type:String,default:"auto"},showMask:{type:Boolean,default:!0},isTransparent:Boolean,hideOnBlur:{type:Boolean,default:!0},position:{type:String,default:"bottom"},maxHeight:String,popupStyle:Object,hideOnDeactivated:{type:Boolean,default:!0},shouldRerenderOnShow:{type:Boolean,default:!1},shouldScrollTopOnShow:{type:Boolean,default:!1}},created:function(){this.$vux&&this.$vux.config&&"VIEW_BOX"===this.$vux.config.$layout&&(this.layout="VIEW_BOX")},mounted:function(){var t=this;this.$overflowScrollingList=document.querySelectorAll(".vux-fix-safari-overflow-scrolling"),this.$nextTick(function(){var e=t;t.popup=new h({showMask:e.showMask,container:e.$el,hideOnBlur:e.hideOnBlur,onOpen:function(){e.fixSafariOverflowScrolling("auto"),e.show=!0},onClose:function(){e.show=!1,window.__$vuxPopups&&a()(window.__$vuxPopups).length>1||document.querySelector(".vux-popup-dialog.vux-popup-mask-disabled")||setTimeout(function(){e.fixSafariOverflowScrolling("touch")},300)}}),t.value&&t.popup.show(),t.initialShow=!1})},deactivated:function(){this.hideOnDeactivated&&(this.show=!1),this.removeModalClassName()},methods:{fixSafariOverflowScrolling:function(t){if(this.$overflowScrollingList.length)for(var e=0;e<this.$overflowScrollingList.length;e++)this.$overflowScrollingList[e].style.webkitOverflowScrolling=t},removeModalClassName:function(){"VIEW_BOX"===this.layout&&p.removeClass(document.body,"vux-modal-open")},doShow:function(){this.popup&&this.popup.show(),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),"VIEW_BOX"===this.layout&&p.addClass(document.body,"vux-modal-open"),this.hasFirstShow||(this.$emit("on-first-show"),this.hasFirstShow=!0)},scrollTop:function(){var t=this;this.$nextTick(function(){t.$el.scrollTop=0;var e=t.$el.querySelectorAll(".vux-scrollable");if(e.length)for(var i=0;i<e.length;i++)e[i].scrollTop=0})}},data:function(){return{layout:"",initialShow:!0,hasFirstShow:!1,shouldRenderBody:!0,show:this.value}},computed:{styles:function(){var t={};if(this.position&&"bottom"!==this.position&&"top"!==this.position?t.width=this.width:t.height=this.height,this.maxHeight&&(t["max-height"]=this.maxHeight),this.isTransparent&&(t.background="transparent"),this.popupStyle)for(var e in this.popupStyle)t[e]=this.popupStyle[e];return t}},watch:{value:function(t){this.show=t},show:function(t){var e=this;this.$emit("input",t),t?this.shouldRerenderOnShow?(this.shouldRenderBody=!1,this.$nextTick(function(){e.scrollTop(),e.shouldRenderBody=!0,e.doShow()})):(this.shouldScrollTopOnShow&&this.scrollTop(),this.doShow()):(this.$emit("on-hide"),this.show=!1,this.popup.hide(!1),setTimeout(function(){document.querySelector(".vux-popup-dialog.vux-popup-show")||e.fixSafariOverflowScrolling("touch"),e.removeModalClassName()},200))}},beforeDestroy:function(){this.popup&&this.popup.destroy(),this.fixSafariOverflowScrolling("touch"),this.removeModalClassName()}}),v={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"vux-popup-animate-"+t.position}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show&&!t.initialShow,expression:"show && !initialShow"}],staticClass:"vux-popup-dialog",class:["vux-popup-"+t.position,t.show?"vux-popup-show":""],style:t.styles},[t.shouldRenderBody?t._t("default"):t._e()],2)])},staticRenderFns:[]};var f=i("C7Lr")(m,v,!1,function(t){i("SumJ")},null,null);e.a=f.exports},SumJ:function(t,e){},UAEf:function(t,e){},"j/Bo":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("uiKT"),a=i("C5VE"),n=i("Q/W4"),s=i("0+Q0"),r=i("oast"),l=i("+EaS"),c=i("4PKW"),u=i("KiN3"),d=i("wSez"),h=(o.a,o.a,a.a,n.a,s.a,r.a,l.a,c.a,u.a,{directives:{TransferDom:o.a},components:{TransferDom:o.a,Popup:a.a,Group:n.a,Cell:s.a,XButton:r.a,Flexbox:l.a,FlexboxItem:c.a,XInput:u.a},data:function(){return{username:"",disablecard:"",is_face:!1,video:null,card_img:""}},computed:{},beforeMount:function(){},mounted:function(){this.$refs.img_box.style.height=document.documentElement.clientHeight-document.getElementById("content_box")-51+"px"},methods:{goBack:function(){this.$router.go(-1)},initVideo:function(){var t=this;window.URL||window.webkitURL;navigator.mediaDevices.getUserMedia({audio:!0,video:{facingMode:{exact:"environment"}}}).then(function(e){console.log("stream",e),t.video=document.getElementById("video"),t.video.srcObject=e,t.video.play()}).catch(function(t){console.log(t.name+":: "+t.message)})},screenShot:function(){this.video=document.getElementById("video");var t=this.video.width,e=this.video.height,i=t/e;e=(t=240)/i;var o=document.createElement("canvas");o.width=t,o.height=e,o.getContext("2d").drawImage(this.video,0,0,t,e);var a=o.toDataURL("image/png");this.card_img=a},open_card:function(){this.is_face=!0,this.initVideo()},start_in:function(){var t=this;this.screenShot(),this.card_img=this.card_img.split("base64,")[1];var e="id_card_side=front&image="+encodeURIComponent(this.card_img);this.$API.IDS_API.scan_card(e).then(function(e){"normal"==e.data.image_status?(t.username=e.data.words_result["姓名"].words,t.disablecard=e.data.words_result["公民身份号码"].words,t.is_face=!1):Object(d.MessageBox)("提示","拍摄不清晰, 请重新识别")}).catch(function(t){console.log(t),Object(d.MessageBox)("提示","拍摄不清晰, 请重新识别")})},next_step:function(){this.$router.push("/ids/create-face")}},watch:{}}),p={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"create_realname_vue"},[o("mt-header",{attrs:{title:"实名认证"}},[o("span",{attrs:{slot:"left"},on:{click:t.goBack},slot:"left"},[o("mt-button",{attrs:{icon:"back"}})],1)]),t._v(" "),o("div",{staticClass:"create-realname",attrs:{id:"content_box"}},[o("div",{staticClass:"label_text"},[t._v("姓名")]),t._v(" "),o("group",{attrs:{"label-width":"4.5em","label-margin-right":"2em","label-align":"right"}},[o("x-input",{attrs:{placeholder:"请输入姓名","placeholder-align":"center","show-clear":!1},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),t._v(" "),o("div",{staticClass:"label_text"},[t._v("身份证")]),t._v(" "),o("group",{attrs:{"label-width":"4.5em","label-margin-right":"2em","label-align":"right"}},[o("x-input",{attrs:{placeholder:"请输入身份证号","placeholder-align":"center","show-clear":!1},model:{value:t.disablecard,callback:function(e){t.disablecard=e},expression:"disablecard"}})],1),t._v(" "),o("p",{staticStyle:{"text-align":"right",color:"#9a9a9a",padding:"10px 0 0 0"},on:{click:t.open_card}},[t._v("证件识别")]),t._v(" "),o("x-button",{staticStyle:{"margin-top":"30px"},attrs:{type:"primary"},nativeOn:{click:function(e){return t.next_step(e)}}},[t._v("确认")])],1),t._v(" "),o("img",{ref:"img_box",staticStyle:{"background-size":"cover",width:"100%"},attrs:{src:i("vzkW"),alt:""}}),t._v(" "),o("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[o("popup",{attrs:{position:"top","max-height":"70%"},model:{value:t.is_face,callback:function(e){t.is_face=e},expression:"is_face"}},[o("div",{staticStyle:{"text-align":"center",padding:"10px",position:"relative"}},[o("video",{attrs:{id:"video",height:"320",width:"250",poster:i("lZli")}}),t._v(" "),o("div",{staticClass:"line_face",staticStyle:{width:"240px",height:"2px"}})]),t._v(" "),o("div",{staticStyle:{padding:"10px"}},[o("flexbox",[o("flexbox-item",[o("x-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.is_face=!1}}},[t._v("关闭")])],1),t._v(" "),o("flexbox-item",[o("x-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.start_in(e)}}},[t._v("开始")])],1)],1)],1)])],1)],1)},staticRenderFns:[]};var m=i("C7Lr")(h,p,!1,function(t){i("UAEf")},"data-v-b98503e8",null);e.default=m.exports},uiKT:function(t,e,i){"use strict";var o=i("+Up5"),a=i.n(o);function n(t){return void 0===t?document.body:"string"==typeof t&&0===t.indexOf("?")?document.body:("string"==typeof t&&t.indexOf("?")>0&&(t=t.split("?")[0]),"body"===t||!0===t?document.body:t instanceof window.Node?t:document.querySelector(t))}var s={inserted:function(t,e,i){var o=e.value;t.className=t.className?t.className+" v-transfer-dom":"v-transfer-dom";var a=t.parentNode,s=document.createComment(""),r=!1;!1!==o&&(a.replaceChild(s,t),n(o).appendChild(t),r=!0),t.__transferDomData||(t.__transferDomData={parentNode:a,home:s,target:n(o),hasMovedOut:r})},componentUpdated:function(t,e){var i=e.value;if(function(t){if(!t)return!1;if("string"==typeof t&&t.indexOf("?")>0)try{return JSON.parse(t.split("?")[1]).autoUpdate||!1}catch(t){return!1}return!1}(i)){var o=t.__transferDomData,s=o.parentNode,r=o.home,l=o.hasMovedOut;!l&&i?(s.replaceChild(r,t),n(i).appendChild(t),t.__transferDomData=a()({},t.__transferDomData,{hasMovedOut:!0,target:n(i)})):l&&!1===i?(s.replaceChild(t,r),t.__transferDomData=a()({},t.__transferDomData,{hasMovedOut:!1,target:n(i)})):i&&n(i).appendChild(t)}},unbind:function(t,e){t.className=t.className.replace("v-transfer-dom",""),t.__transferDomData&&!0===t.__transferDomData.hasMovedOut&&t.__transferDomData.parentNode&&t.__transferDomData.parentNode.appendChild(t),t.__transferDomData=null}};e.a=s},vzkW:function(t,e,i){t.exports=i.p+"static/img/shimin.9b14808.jpg"}});
//# sourceMappingURL=6.ce613f1c2114d6afd678.js.map